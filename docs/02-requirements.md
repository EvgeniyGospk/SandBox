# Требования к проекту Particula

## Функциональные требования

### FR-1: Симуляция частиц

| ID | Требование | Приоритет |
|----|-----------|-----------|
| FR-1.1 | Поддержка до 500K+ частиц | High |
| FR-1.2 | Температура для каждой частицы | High |
| FR-1.3 | Реалистичное давление | High |
| FR-1.4 | Настраиваемая гравитация (вектор) | High |
| FR-1.5 | Электричество с сопротивлением и напряжением | Medium |
| FR-1.6 | Химические реакции между элементами | High |

### FR-2: Элементы

| ID | Требование | Приоритет |
|----|-----------|-----------|
| FR-2.1 | 14 базовых элементов в MVP | High |
| FR-2.2 | Категоризация элементов | High |
| FR-2.3 | DSL для создания пользовательских элементов | Low (v2.0) |
| FR-2.4 | Freemium: базовые бесплатно, продвинутые платно | Medium |

### FR-3: Инструменты рисования

| ID | Требование | Приоритет |
|----|-----------|-----------|
| FR-3.1 | Кисти: круг, квадрат, линия | High |
| FR-3.2 | Размер кисти: 1-50px | High |
| FR-3.3 | Ластик | High |
| FR-3.4 | Пипетка | Medium |
| FR-3.5 | Заливка области | Medium |

### FR-4: Управление симуляцией

| ID | Требование | Приоритет |
|----|-----------|-----------|
| FR-4.1 | Play/Pause | High |
| FR-4.2 | Step (один кадр) | Medium |
| FR-4.3 | Скорость: 0.5x, 1x, 2x, 4x | Medium |
| FR-4.4 | Reset (очистка холста) | High |

### FR-5: Сохранение

| ID | Требование | Приоритет |
|----|-----------|-----------|
| FR-5.1 | Локальное сохранение (IndexedDB) | High |
| FR-5.2 | Облачное сохранение | Medium (v1.5) |
| FR-5.3 | Экспорт сцены (JSON) | Medium |
| FR-5.4 | Экспорт GIF/видео | Low |

### FR-6: Мультиплеер

| ID | Требование | Приоритет |
|----|-----------|-----------|
| FR-6.1 | Синхронная симуляция до 10 игроков | Low (v2.0) |
| FR-6.2 | Асинхронный шаринг сцен | Medium (v1.5) |
| FR-6.3 | Текстовый чат в комнате | Low (v2.0) |
| FR-6.4 | Публичная галерея работ | Medium (v1.5) |

### FR-7: Аккаунты

| ID | Требование | Приоритет |
|----|-----------|-----------|
| FR-7.1 | Регистрация Email + пароль | Medium (v1.5) |
| FR-7.2 | OAuth (Google, GitHub, Discord) | Medium (v1.5) |
| FR-7.3 | Гостевой режим | High |
| FR-7.4 | Профиль пользователя | Medium (v1.5) |

### FR-8: Живые существа

| ID | Требование | Приоритет |
|----|-----------|-----------|
| FR-8.1 | AI существа (поиск еды, избегание опасности) | Low (v2.0) |
| FR-8.2 | Эволюция с генетическими алгоритмами | Low (v2.0) |

## Нефункциональные требования

### NFR-1: Производительность

| ID | Требование | Метрика |
|----|-----------|---------|
| NFR-1.1 | FPS при 100K частиц | ≥ 60 FPS |
| NFR-1.2 | FPS при 500K частиц | ≥ 30 FPS |
| NFR-1.3 | Время загрузки приложения | < 3 сек |
| NFR-1.4 | Размер WASM бандла | < 5 MB |

### NFR-2: Совместимость

| ID | Требование |
|----|-----------|
| NFR-2.1 | Chrome, Firefox, Safari, Edge (последние 2 версии) |
| NFR-2.2 | WebGL2 или WebGPU support |
| NFR-2.3 | Мобильные браузеры (iOS Safari, Chrome Android) |
| NFR-2.4 | Touch-управление на мобильных |

### NFR-3: Масштабируемость

| ID | Требование |
|----|-----------|
| NFR-3.1 | Горизонтальное масштабирование бэкенда |
| NFR-3.2 | CDN для статики |
| NFR-3.3 | Поддержка 10K concurrent users |

### NFR-4: Безопасность

| ID | Требование |
|----|-----------|
| NFR-4.1 | HTTPS only |
| NFR-4.2 | JWT аутентификация |
| NFR-4.3 | Rate limiting API |
| NFR-4.4 | Input validation |
| NFR-4.5 | XSS/CSRF protection |

### NFR-5: Доступность

| ID | Требование |
|----|-----------|
| NFR-5.1 | Keyboard navigation для UI |
| NFR-5.2 | Достаточный контраст цветов |
| NFR-5.3 | Screen reader friendly (где возможно) |
